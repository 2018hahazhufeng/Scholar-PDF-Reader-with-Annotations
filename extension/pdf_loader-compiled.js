(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var m=this||self,r=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"},aa=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"},ba=function(a){return a},ca=function(a,b){function c(){}c.prototype=b.prototype;a.V=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.T=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function t(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}ca(t,Error);t.prototype.name="CustomError";function da(a,b){a=a.split("%s");let c="";const d=a.length-1;for(let e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");t.call(this,c+a[d])}ca(da,t);da.prototype.name="AssertionError";var ea=function(a,b){throw new da("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var fa,ha;a:{for(var ia=["CLOSURE_FLAGS"],ja=m,ka=0;ka<ia.length;ka++)if(ja=ja[ia[ka]],ja==null){ha=null;break a}ha=ja}var la=ha&&ha[610401301];fa=la!=null?la:!1;function ma(a,b=new Set){if(b.has(a))return"(Recursive reference)";switch(typeof a){case "object":if(a){var c=Object.getPrototypeOf(a);switch(c){case Map.prototype:case Set.prototype:case Array.prototype:b.add(a);var d=`[${Array.from(a,e=>ma(e,b)).join(", ")}]`;b.delete(a);c!==Array.prototype&&(d=`${na(c.constructor)}(${d})`);return d;case Object.prototype:return b.add(a),c=`{${Object.entries(a).map(([e,f])=>`${e}: ${ma(f,b)}`).join(", ")}}`,b.delete(a),c;default:return d="Object",c&&c.constructor&&
(d=na(c.constructor)),typeof a.toString==="function"&&a.toString!==Object.prototype.toString?`${d}(${String(a)})`:`(object ${d})`}}break;case "function":return`function ${na(a)}`;case "number":if(!Number.isFinite(a))return String(a);break;case "bigint":return`${a.toString(10)}n`;case "symbol":return a.toString()}return JSON.stringify(a)}
function na(a){var b=a.displayName;return b&&typeof b==="string"||(b=a.name)&&typeof b==="string"?b:(a=/function\s+([^\(]+)/m.exec(String(a)))?a[1]:"(Anonymous)"};function oa(a,b){const c=pa,d=[];qa(b,a,d)||ra(void 0,c,`Guard ${b.G().trim()} failed:`,...d.reverse())}function sa(a,b){a.U=!0;a.G=typeof b==="function"?b:()=>b;return a}function qa(a,b,c){const d=a(b,c);d||ta(c,()=>{let e="";e.length>0&&(e+=": ");return`${e}Expected ${a.G().trim()}, got ${ma(b)}`});return d}function ta(a,b){a==null||a.push((typeof b==="function"?b():b).trim())}let pa=void 0;function ua(a){return typeof a==="function"?a():a}
function ra(...a){throw Error(a.map(ua).filter(Boolean).join("\n").trim().replace(/:$/,""));};var va=sa(a=>typeof a==="string","string"),wa=sa(a=>typeof a==="bigint","bigint");var xa=typeof m.BigInt==="function"&&typeof m.BigInt(0)==="bigint";var Da=sa(a=>{if(xa)return oa(ya,wa),oa(za,wa),a=BigInt(a),a>=ya&&a<=za;oa(a,va);return a[0]==="-"?Aa(a,Ba):Aa(a,Ca)},"isSafeInt52");const Ba=Number.MIN_SAFE_INTEGER.toString(),ya=xa?BigInt(Number.MIN_SAFE_INTEGER):void 0,Ca=Number.MAX_SAFE_INTEGER.toString(),za=xa?BigInt(Number.MAX_SAFE_INTEGER):void 0;
function Aa(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(var c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}c=pa;ra("Assertion fail:",`isInRange weird case. Value was: ${a}. Boundary was: ${b}.`||c)};var u;const Ea=m.navigator;u=Ea?Ea.userAgentData||null:null;function Fa(a){return fa?u?u.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function v(a){var b;a:{if(b=m.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function w(){return fa?!!u&&u.brands.length>0:!1}function Ga(){return w()?Fa("Chromium"):(v("Chrome")||v("CriOS"))&&!(w()?0:v("Edge"))||v("Silk")};var Ha=function(a){Ha[" "](a);return a};Ha[" "]=function(){};var Ia=w()?!1:v("Trident")||v("MSIE");!v("Android")||Ga();Ga();v("Safari")&&(Ga()||(w()?0:v("Coast"))||(w()?0:v("Opera"))||(w()?0:v("Edge"))||(w()?Fa("Microsoft Edge"):v("Edg/"))||w()&&Fa("Opera"));var Ja={},Ka=null;var La=typeof Uint8Array!=="undefined",Ma=!Ia&&typeof btoa==="function";var Na=typeof Symbol==="function"&&typeof Symbol()==="symbol",Oa=new Set;function Pa(a,b,c=!1,d=!1){a=typeof Symbol==="function"&&typeof Symbol()==="symbol"?d&&Symbol.for&&a?Symbol.for(a):a!=null?Symbol(a):Symbol():b;c&&Oa.add(a);return a}var Qa=Pa("jas",void 0,!0,!0),Ra=Pa("defaultInstance","0di"),Sa=Pa("unknownBinaryFields",Symbol(),!0);const x=Na?Qa:"L",Ta={L:{value:0,configurable:!0,writable:!0,enumerable:!1}},Ua=Object.defineProperties;function Va(a,b){Na||x in a||Ua(a,Ta);a[x]|=b}function y(a,b){Na||x in a||Ua(a,Ta);a[x]=b}function z(a){Va(a,34);return a}function Wa(a){Va(a,32);return a}function Xa(a,b){y(b,(a|0)&-30975)}function Ya(a,b){y(b,(a|34)&-30941)}const Za=Object.getOwnPropertyDescriptor(Array.prototype,"M");
Object.defineProperties(Array.prototype,{M:{get(){function a(e,f){e&b&&c.push(f)}const b=this[x]|0,c=[];a(1,"IS_REPEATED_FIELD");a(2,"IS_IMMUTABLE_ARRAY");a(4,"IS_API_FORMATTED");a(4096,"STRING_FORMATTED");a(8192,"GBIGINT_FORMATTED");a(8192,"BINARY");a(8,"ONLY_MUTABLE_VALUES");a(32,"MUTABLE_REFERENCES_ARE_OWNED");a(64,"CONSTRUCTED");a(128,"TRANSFERRED");a(256,"HAS_SPARSE_OBJECT");a(512,"HAS_MESSAGE_ID");a(2048,"FROZEN_ARRAY");a(16384,"DESERIALIZED_FROM_BINARY");var d=b>>15&1023||536870912;d!==536870912&&
c.push(`pivot: ${d}`);d=c.join(",");return Za?Za.get.call(this)+"|"+d:d},configurable:!0,enumerable:!1}});function A(a){return Array.prototype.slice.call(a)};var $a={},ab={};function bb(a){return!(!a||typeof a!=="object"||a.O!==ab)}function cb(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function db(a){return!Array.isArray(a)||a.length?!1:(a[x]|0)&1?!0:!1}var eb;const fb=[];y(fb,55);eb=Object.freeze(fb);function gb(a){if(a&2)throw Error("Cannot mutate an immutable Message");}function hb(){}
class ib{constructor(a,b,c){this.i=0;this.g=a;this.h=b;this.j=c}next(){if(this.i<this.g.length){const a=this.g[this.i++];return{done:!1,value:this.h?this.h.call(this.j,a):a}}return{done:!0,value:void 0}}[Symbol.iterator](){return new ib(this.g,this.h,this.j)}}function jb(a,b){const c=ba(Sa);(b=c?b[c]:void 0)&&(a[Sa]=A(b))}function kb(a){const b=a[x]|0;(b&8||b&16&&b&32)&&a.forEach(()=>{});lb(a)}
function lb(a){if(4096&(a[x]|0))for(let b=0;b<a.length;b++)typeof a[b]!=="string"&&ea(`Unexpected element of type ${typeof a[b]} in string formatted repeated 64-bit int field`)};function mb(a){a=Error(a);a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity="warning";return a};const nb=Number.isFinite;function ob(a){if(typeof a!=="number")throw Error(`Value of float/double field must be a number, found ${typeof a}: ${a}`);return a}function D(a){if(a!=null&&typeof a!=="boolean")throw Error(`Expected boolean but got ${r(a)}: ${a}`);return a}function pb(a){return`Expected int32 as finite number but got ${r(a)}: ${a}`}function E(a){if(a!=null){if(typeof a!=="number")throw mb(pb(a));if(!nb(a))throw mb(pb(a));a|=0}return a}
function qb(a){if(a==null)return a;if(typeof a==="string"&&a)a=+a;else if(typeof a!=="number")return;return nb(a)?a|0:void 0}function rb(a,b,c,d){if(a!=null&&typeof a==="object"&&a.B===$a)return a;if(!Array.isArray(a))return c?d&2?((a=b[Ra])||(a=new b,z(a.l),a=b[Ra]=a),b=a):b=new b:b=void 0,b;let e=c=a[x]|0;e===0&&(e|=d&32);e|=d&2;e!==c&&y(a,e);return new b(a)}
function sb(a,b,c){if(b){if(typeof a!=="string")throw Error(`Expected a string but got ${a} a ${r(a)}`);return a}let d;return(d=a==null||typeof a==="string"?a:void 0)!=null?d:c?"":void 0};const tb={};let ub=function(){try{return Ha(new class extends Map{constructor(){super()}}),!1}catch(a){return!0}}();
class vb{constructor(){this.g=new Map}get(a){return this.g.get(a)}set(a,b){this.g.set(a,b);this.size=this.g.size;return this}delete(a){a=this.g.delete(a);this.size=this.g.size;return a}clear(){this.g.clear();this.size=this.g.size}has(a){return this.g.has(a)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(a,b){return this.g.forEach(a,b)}[Symbol.iterator](){return this.entries()}}
const wb=(()=>ub?(Object.setPrototypeOf(vb.prototype,Map.prototype),Object.defineProperties(vb.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),vb):class extends Map{constructor(){super()}})();function xb(a){return a}
var yb=function(a){if(a.s&2)throw Error("Cannot mutate an immutable Map");},G=class extends wb{constructor(a,b,c=xb,d=xb){super();let e=a[x]|0;e|=64;y(a,e);this.s=e;this.v=b;this.u=c;this.F=this.v?zb:d;for(let f=0;f<a.length;f++){const g=a[f],k=c(g[0],!1,!0);let h=g[1];b?h===void 0&&(h=null):h=d(g[1],!1,!0,void 0,void 0,e);super.set(k,h)}}I(a=Ab){if(this.size!==0)return this.D(a)}D(a=Ab){const b=[],c=super.entries();for(var d;!(d=c.next()).done;)d=d.value,d[0]=a(d[0]),d[1]=a(d[1]),b.push(d);return b}clear(){yb(this);
super.clear()}delete(a){yb(this);return super.delete(this.u(a,!0,!1))}entries(){var a=this.H();return new ib(a,Bb,this)}keys(){return this.N()}values(){var a=this.H();return new ib(a,G.prototype.get,this)}forEach(a,b){super.forEach((c,d)=>{a.call(b,this.get(d),d,this)})}set(a,b){yb(this);a=this.u(a,!0,!1);return a==null?this:b==null?(super.delete(a),this):super.set(a,this.F(b,!0,!0,this.v,!1,this.s))}has(a){return super.has(this.u(a,!1,!1))}get(a){a=this.u(a,!1,!1);const b=super.get(a);if(b!==void 0){var c=
this.v;return c?(c=this.F(b,!1,!0,c,this.J,this.s),c!==b&&super.set(a,c),c):b}}H(){return Array.from(super.keys())}N(){return super.keys()}[Symbol.iterator](){return this.entries()}};G.prototype.toJSON=void 0;G.prototype.O=ab;function zb(a,b,c,d,e,f){a=rb(a,d,c,f);e&&(a=Cb(a));return a}function Ab(a){return a}function Bb(a){return[a,this.get(a)]}let Db;function Eb(){return Db||(Db=new G(z([]),void 0,void 0,void 0,tb))};function Fb(a,b){return Gb(b)}
function Gb(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "bigint":return Da(a)?Number(a):String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(db(a))return}else{if(La&&a!=null&&a instanceof Uint8Array){if(Ma){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{b===void 0&&(b=0);if(!Ka){Ka={};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=
["+/=","+/","-_=","-_.","-_"];for(var e=0;e<5;e++){var f=c.concat(d[e].split(""));Ja[e]=f;for(var g=0;g<f.length;g++){var k=f[g];Ka[k]===void 0&&(Ka[k]=g)}}}b=Ja[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var h=a[f],n=a[f+1];k=a[f+2];g=b[h>>2];h=b[(h&3)<<4|n>>4];n=b[(n&15)<<2|k>>6];k=b[k&63];c[e++]=g+h+n+k}g=0;k=d;switch(a.length-f){case 2:g=a[f+1],k=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=b[a>>2]+b[(a&3)<<4|g>>4]+k+d}a=c.join("")}return a}if(a instanceof G)return a.I()}}return a}
;function Hb(a,b,c){const d=A(a);var e=d.length;const f=b&256?d[e-1]:void 0;e+=f?-1:0;for(b=b&512?1:0;b<e;b++)d[b]=c(d[b]);if(f){b=d[b]={};for(const g in f)b[g]=c(f[g])}jb(d,a);return d}function Ib(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=db(a)?void 0:e&&(a[x]|0)&2?a:Kb(a,b,c,d!==void 0,e);else if(cb(a)){const f={};for(let g in a)f[g]=Ib(a[g],b,c,d,e);a=f}else a=b(a,d);return a}}
function Kb(a,b,c,d,e){const f=d||c?a[x]|0:0;d=d?!!(f&32):void 0;const g=A(a);for(let k=0;k<g.length;k++)g[k]=Ib(g[k],b,c,d,e);c&&(jb(g,a),c(f,g));return g}function Lb(a){return Ib(a,Mb,void 0,void 0,!1)}function Mb(a){return a.B===$a?a.toJSON():a instanceof G?a.I(Lb):Gb(a)}function Nb(a){return Kb(a,Mb,void 0,void 0,!1)};function Ob(a,b,c=Ya){if(a!=null){if(La&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[x]|0;if(d&2)return a;kb(a);b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(y(a,(d|34)&-12293),a):Kb(a,Ob,d&4?Ya:c,!0,!0)}a.B===$a?(c=a.l,d=c[x]|0,a=d&2?a:new a.constructor(Pb(c,d,!0))):a instanceof G&&!(a.s&2)&&(c=z(a.D(Ob)),a=new G(c,a.v,a.u,a.F));return a}}function Pb(a,b,c){const d=c||b&2?Ya:Xa,e=!!(b&32);a=Hb(a,b,f=>Ob(f,e,d));Va(a,32|(c?2:0));return a}
function Cb(a){const b=a.l,c=b[x]|0;return c&2?new a.constructor(Pb(b,c,!1)):a};typeof Proxy!=="undefined"&&new Proxy({},{getPrototypeOf:H,setPrototypeOf:H,isExtensible:H,preventExtensions:H,getOwnPropertyDescriptor:H,defineProperty:H,has:H,get:H,set:H,deleteProperty:H,apply:H,construct:H});function H(){throw Error("this array or object is owned by JSPB and should not be reused, did you mean to copy it with copyJspbArray? See go/jspb-api-gotchas#construct_from_array");};var Qb=function(a,b){a=a.l;return J(a,a[x]|0,b)},J=function(a,b,c,d){if(c===-1)return null;const e=c+(b&512?0:-1),f=a.length-1;if(e>=f&&b&256)return a[f][c];if(d&&b&256&&(b=a[f][c],b!=null)){if(a[e]!=null)throw Error(`b/316921031: message had field number ${c} in both the sparse object and the array portion.`);return b}if(e<=f)return a[e]},M=function(a,b,c){const d=a.l;let e=d[x]|0;gb(e);K(d,e,b,c);return a};
function K(a,b,c,d){const e=b&512?0:-1,f=c+e;var g=a.length-1;if(f>=g&&b&256)return a[g][c]=d,b;if(f<=g)return a[f]=d,b&256&&(a=a[g],c in a&&delete a[c]),b;d!==void 0&&(g=b>>15&1023||536870912,c>=g?d!=null&&(a[g+e]={[c]:d},b|=256,y(a,b)):a[f]=d);return b}function N(a){return!!(2&a)&&!!(4&a)||!!(2048&a)}
function Rb(a,b,c,d,e){var f=b&2;let g=!1;if(c==null){if(f)return Eb();c=[]}else if(c.constructor===G){if((c.s&2)==0||f)return c;c=c.D()}else Array.isArray(c)?g=!!((c[x]|0)&2):c=[];if(f){if(!c.length)return Eb();g||(g=!0,z(c))}else if(g){g=!1;f=A(c);for(c=0;c<f.length;c++){const k=f[c]=A(f[c]);Array.isArray(k[1])&&(k[1]=z(k[1]))}c=f}g||((c[x]|0)&64?c[x]&=-33:32&b&&Wa(c));e=new G(c,e,sb,void 0);K(a,b,d,e);return e}function Sb(a,b,c){a=a.l;const d=a[x]|0;return Rb(a,d,J(a,d,b),b,c)}
function Tb(a){var b=Ub,c=a.l;const d=c[x]|0;var e=J(c,d,2);a=d&2;c=Rb(c,d,e,2,b);!a&&b&&(c.J=!0);return c}function Vb(a,b,c){const d=a.l;let e=d[x]|0;gb(e);if(c==null)return K(d,e,b),a;let f=c[x]|0,g=f;var k=N(f);let h=k||Object.isFrozen(c);k||(f=0);h||(c=A(c),g=0,f=O(f,e),f=P(f,e),h=!1);f|=21;for(k=0;k<c.length;k++){const n=c[k],l=ob(n);Object.is(n,l)||(h&&(c=A(c),g=0,f=O(f,e),f=P(f,e),h=!1),c[k]=l)}f!==g&&(h&&(c=A(c),f=O(f,e),f=P(f,e)),y(c,f));kb(c);K(d,e,b,c);return a}
var Wb=function(a,b,c){var d=a.l,e=d[x]|0,f=J(d,e,c,!1);b=rb(f,b,!1,e);b!==f&&b!=null&&K(d,e,c,b);d=b;if(d==null)return d;a=a.l;e=a[x]|0;e&2||(f=Cb(d),f!==d&&(d=f,K(a,e,c,d)));return d},Xb=function(a,b,c){c==null&&(c=void 0);M(a,b,c)};function O(a,b){a=(2&b?a|2:a&-3)|32;return a&=-2049}function P(a,b){32&b||(a&=-33);return a}
function Yb(a,b,c,d){var e=a.l[x]|0;gb(e);var f;const g=a.l,k=(a=!!(2&e))?1:2;f&&(f=!a);a=J(g,e,b);a=Array.isArray(a)?a:eb;var h=a[x]|0;const n=!!(4&h);if(!n){var l=h;l===0&&(l=O(l,e));h=a;l|=1;var p=e,q=!!(2&l);q&&(p|=2);let B=!q,F=!0,L=0,C=0;for(;L<h.length;L++){const I=rb(h[L],c,!1,p);if(I instanceof c){if(!q){const Jb=!!((I.l[x]|0)&2);B&&(B=!Jb);F&&(F=Jb)}h[C++]=I}}C<L&&(h.length=C);l|=4;l=F?l|16:l&-17;l=B?l|8:l&-9;y(h,l);q&&Object.freeze(h);h=l}if(f&&!(8&h||!a.length&&(k===1||k===4&&32&h))){N(h)&&
(a=A(a),h=O(h,e),e=K(g,e,b,a));f=a;for(l=0;l<f.length;l++)p=f[l],q=Cb(p),p!==q&&(f[l]=q);h|=8;h=f.length?h&-17:h|16;y(f,h)}k===1||k===4&&32&h?N(h)||(b=h,e=!!(32&h),h|=!a.length||16&h&&(!n||e)?2:2048,h!==b&&y(a,h),Object.freeze(a)):(k===2&&N(h)&&(a=A(a),h=O(h,e),h=P(h,e),y(a,h),e=K(g,e,b,a)),N(h)||(b=h,h=P(h,e),h!==b&&y(a,h)));b=a;d=d!=null?d:new c;b.push(d);b[x]=(d.l[x]|0)&2?b[x]&-9:b[x]&-17}
var Zb=function(a,b){a=Qb(a,b);a=a==null||typeof a==="boolean"?a:typeof a==="number"?!!a:void 0;return a!=null?a:!1},Q=function(a,b){let c;return(c=qb(Qb(a,b)))!=null?c:0},$b=function(a){a=a.l;let b=a[x]|0;const c=J(a,b,1);var d=c==null||typeof c==="number"?c:c==="NaN"||c==="Infinity"||c==="-Infinity"?Number(c):void 0;d!=null&&d!==c&&K(a,b,1,d);return d!=null?d:0},ac=function(a,b){a=Qb(a,b);a=a==null?a:nb(a)?a|0:void 0;return a!=null?a:0},R=function(a,b,c){return M(a,b,c==null?c:ob(c))},S=function(a,
b,c){if(c!=null&&typeof c!=="string")throw Error(`Expected a string or null or undefined but got ${c} a ${r(c)}`);return M(a,b,c)};function bc(a){return a}let T;
var dc=function(a){try{return T=bc,JSON.stringify(cc(a),Fb)}finally{T=void 0}},U=class{constructor(a){this.preventPassingToStructuredClone=hb;a:{if(a!=null)for(var b=0;b<a.length;b++){var c=a[b];Array.isArray(c)&&kb(c)}if(a==null)c=96,a=[];else{if(!Array.isArray(a))throw Error(`data passed to JSPB constructors must be an Array, got '${JSON.stringify(a)}' a ${r(a)}`);c=a[x]|0;if(1&c)throw Error("Array passed to JSPB constructor is a repeated field array that belongs to another proto instance.");if(16384&
c||!(64&c)?0:!(2&c))throw Error("Array passed to JSPB constructor already belongs to another JSPB proto instance");if(Object.isFrozen(a)||!Object.isExtensible(a)||Object.isSealed(a))throw Error("data passed to JSPB constructors must be mutable");if(c&2048)throw Error("farr");if(c&64)break a;b=a;c|=64;var d=b.length;if(d&&(--d,cb(b[d]))){c|=256;b=d-(c&512?0:-1);if(b>=1024)throw Error(`Found a message with a sparse object at fieldNumber ${b} is >= the limit ${1024}`);c=c&-33521665|(b&1023)<<15}}y(a,
c)}this.l=a}toJSON(){const a=!T;try{return a&&(T=Nb),cc(this)}finally{a&&(T=void 0)}}clone(){const a=this.l;return new this.constructor(Pb(a,a[x]|0,!1))}};U.prototype.B=$a;U.prototype.toString=function(){try{return T=bc,cc(this).toString()}finally{T=void 0}};
function cc(a){var b=a.l,c=T(b);b=c!==b;var d=(b?a.l:c)[x]|0;if(a=c.length){var e=c[a-1],f=cb(e);f?a--:e=void 0;var g=d&512?0:-1,k=a-g,h=(d=!(d&512)&&k!==k)?Array.prototype.slice.call(c,0,a):c;if(f||d){b:{var n=h;var l=e;var p;f=!1;if(d)for(var q=Math.max(0,k+g);q<n.length;q++){var B=n[q];const C=q-g;if(!(B==null||db(B)||bb(B)&&B.size===0)){var F=n[q]=void 0;((F=p)!=null?F:p={})[C]=B;f=!0}}if(l)for(let C in l)if(F=+C,isNaN(F)){let I;((I=p)!=null?I:p={})[C]=l[C]}else if(q=l[C],Array.isArray(q)&&(db(q)||
bb(q)&&q.size===0)&&(q=null),q==null&&(f=!0),d&&F<k){f=!0;q=F+g;for(B=n.length;B<=q;B++)n.push(void 0);n[q]=l[F]}else if(q!=null){let I;((I=p)!=null?I:p={})[C]=q}f||(p=l);if(p)for(let C in p){l=p;break b}l=null}n=l==null?e!=null:l!==e}d&&(a=h.length);for(var L;a>0;a--){p=h[a-1];if(!(p==null||db(p)||bb(p)&&p.size===0))break;L=!0}if(h!==c||n||L){if(!d&&!b)h=Array.prototype.slice.call(h,0,a);else if(L||n||l)h.length=a;l&&h.push(l)}c=h}return c};function ec(a){if(a instanceof U)return a.constructor.g};(function(){const a=m.jspbGetTypeName;m.jspbGetTypeName=a?b=>a(b)||ec(b):ec})();/[?&]tc=([01])/.exec(location.search||"")||(navigator.userAgent||"").indexOf("Android")>=0||window.matchMedia&&window.matchMedia("(pointer)").matches&&window.matchMedia("(pointer:coarse)");var fc=new class{constructor(a){this.g=a}}("A");var gc=class extends U{};gc.g="scholar.reader.PdfDestination";var hc=class extends U{getDestination(){return Wb(this,gc,8)}};hc.g="scholar.reader.Annotation";var ic=class extends U{};ic.g="scholar.reader.FontInfo";var jc=class extends U{};jc.g="scholar.reader.FontMap";var kc=class extends U{};kc.g="scholar.reader.NamedDestinationMap";var lc=class extends U{};lc.g="scholar.reader.TextContentItem";var Ub=class extends U{};Ub.g="scholar.reader.TextStyle";var mc=class extends U{};mc.g="scholar.reader.TextContent";var nc=class extends U{};nc.g="scholar.reader.Viewport";var oc=class extends U{getViewport(){return Wb(this,nc,1)}};oc.g="scholar.reader.LoadResult";var qc=function(a){var b=new pc;return M(b,1,E(a))},rc=function(a,b){return M(a,2,E(b))},pc=class extends U{};pc.g="scholar.reader.PageSize";var tc=function(a){var b=new sc;return S(b,1,a)},uc=function(a,b){return S(a,2,b)},vc=function(a,b){return S(a,3,b)},wc=function(a,b){return S(a,4,b)},xc=function(a,b){return S(a,5,b)},yc=function(a,b){return S(a,6,b)},zc=function(a,b){return S(a,7,b)},Ac=function(a,b){return S(a,8,b)},Bc=function(a,b){return S(a,9,b)},Cc=function(a,b){return S(a,10,b)},Dc=function(a,b){return S(a,11,b)},Ec=function(a,b){return M(a,12,E(b))},Fc=function(a,b){Yb(a,13,pc,b)},Gc=function(a,b){return M(a,14,D(b))},Hc=
function(a,b){return M(a,15,D(b))},Ic=function(a,b){return M(a,16,D(b))},sc=class extends U{};sc.g="scholar.reader.PdfMetadata";var Jc=class extends U{};Jc.g="scholar.reader.RenderParams";var Kc=96/72;function Lc(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}}function Mc(a){return a?a.toLowerCase().endsWith(".pdf")?a:a+".pdf":""}function Nc(a){a=a.split(/[#?]/)[0].split("/");let b=a=a[a.length-1];try{b=decodeURIComponent(a)}catch(c){}return(a=b)?Mc(a):"document.pdf"};var Oc=class{constructor(){this.i=this.annotations=this.text=this.h=this.j=this.m=this.viewport=this.g=null}transfer(){const a=[];var b=new oc;if(this.viewport){var c=this.viewport;var d=new nc;d=Vb(d,1,c.viewBox);d=R(d,2,c.rotation);d=R(d,3,c.offsetX);d=R(d,4,c.offsetY);d=R(d,5,c.width);d=R(d,6,c.height);d=R(d,7,c.scale);c=Vb(d,8,c.transform);Xb(b,1,c)}this.m&&M(b,6,E(this.m));this.j&&Xb(b,2,this.j);this.text&&Xb(b,3,this.text);if(this.annotations){{c=this.annotations;const l=b.l;let p=l[x]|0;gb(p);
if(c==null)K(l,p,4);else{var e=d=c[x]|0,f=N(d),g=f||Object.isFrozen(c),k=!0,h=!0;for(let q=0;q<c.length;q++){var n=c[q];f||(n=!!((n.l[x]|0)&2),k&&(k=!n),h&&(h=n))}f||(d=k?13:5,d=h?d|16:d&-17);g&&d===e||(c=A(c),e=0,d=O(d,p),d=P(d,p));d!==e&&y(c,d);kb(c);K(l,p,4,c)}}}this.i&&Xb(b,5,this.i);b={p:dc(b)};if(c=this.h&&this.h.transferToImageBitmap())b.c=c,a.push(c);return{R:b,S:a}}},Pc=class{constructor(a){this.promise=a;this.g=!1}cancel(){this.g=!0}};var Qc=class extends U{},Rc=function(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("Expected to deserialize an Array but got "+r(b)+": "+b);b=new a(Wa(b))}return b}}(Qc);Qc.g="scholar.reader.LoadRequest";function Sc(){this.g=[];this.h=[]}var Tc=function(a){a.g.length===0&&(a.g=a.h,a.g.reverse(),a.h=[]);return a.g.pop()},Uc=function(a){return a.g.length===0&&a.h.length===0};Sc.prototype.clear=function(){this.g=[];this.h=[]};function V(a){return typeof a==="string"?a:""}function Vc(a){return(a=pdfjsLib.PDFDateString.toDateObject(a))?`${a.toLocaleDateString()}, ${a.toLocaleTimeString()}`:""}function Wc(a,b,c){const d=a.getViewport({scale:b}).rotation;return a.getViewport({scale:b,rotation:(c+d)%360})}
function Xc(a){var b=new gc,c=a[0];if(!c)return null;if(typeof c==="object"){c=c.num;if(typeof c!=="number")return null;M(b,1,E(c))}else if(typeof c==="number"&&Number.isInteger(c)&&c>=0)M(b,2,E(c));else return null;if(!a[1]||typeof a[1]!=="object")return null;c=a[1].name;if(typeof c!=="string")return null;S(b,3,c);let d,e;switch(c){case "XYZ":[,,d,a,c]=a;if(d!==null&&typeof d!=="number"||a!==null&&typeof a!=="number"||c!==null&&typeof c!=="number")return null;d!==null&&R(b,4,d);a!==null&&R(b,5,a);
c!==null&&R(b,8,c);return b;case "FitV":case "FitBV":return d=a[2],d===null?b:typeof d==="number"?R(b,4,d):null;case "FitH":case "FitBH":return a=a[2],a===null?b:typeof a==="number"?R(b,5,a):null;case "FitR":return[,,d,e,c,a]=a,typeof d!=="number"||typeof e!=="number"||typeof c!=="number"||typeof a!=="number"?b=null:(b=R(b,4,d),b=R(b,7,e),b=R(b,6,c),b=R(b,5,a)),b;default:return b}}
class Yc{constructor(a,b,c,d,e){this.type=a;this.o=b;this.h=c;this.m=!1;this.i=this.j=null;this.resolve=d;this.reject=e;this.g=new Oc}cancel(){this.m=!0;this.j&&this.j.cancel()}}class Zc extends Pc{constructor(a,b){super(a);this.h=b}cancel(){this.g=!0;this.h.cancel()}}
var $c=function(a){return a.C.then(b=>b.promise)},W=function(a){a.o||(a.o=setTimeout(()=>{a.o=0;ad(a)}))},X=function(a){a.g.resolve(a.g.g);a.g=null;a.h=null;W(a)},Y=function(a,b){a.g.reject(b);a.g=null;a.h=null;W(a)},bd=function(a,b){return $c(a).then(c=>c.getPage(b.o)).then(c=>{b.g.g=c;b.g.viewport=Wc(c,Kc*($b(b.h)||1),Q(b.h,3)||0);b.g.m=b.g.g.ref.num})},cd=function(a){const b=a.g.g.getTextContent().then(c=>{const d=a.g.text=new mc;for(var e of c.items){var f=new lc;f=S(f,1,e.str);f=Vb(f,2,e.transform);
f=R(f,3,e.width);f=R(f,4,e.height);f=S(f,5,e.dir);f=S(f,6,e.fontName);f=M(f,7,D(e.hasEOL));Yb(d,1,lc,f)}for(const g in c.styles)e=c.styles[g],f=new Ub,f=R(f,1,e.ascent),f=R(f,2,e.descent),f=M(f,3,D(e.vertical)),f=S(f,4,e.fontFamily),e=g,Sb(d,2,Ub).set(e,f)});return Zb(a.h,4)?b.then(()=>a.g.g.getOperatorList({intent:"getFonts"})).then(()=>{a.g.j=new jc;const c=a.g.g.commonObjs;for(const f of Tb(a.g.text).keys())if(c.has(f)){var d=c.get(f);var e=new ic;e=S(e,1,d.name);e=M(e,2,D(d.isBolded));d=f;Sb(a.g.j,
1,ic).set(d,e)}}):b},dd=function(a){return a.g.g.getAnnotations().then(b=>{const c=a.g.annotations=[];if(b)for(const d of b){b=new hc;b=S(b,1,d.subtype);b=Vb(b,2,d.rect);b=S(b,3,d.url);b=M(b,4,D(d.newWindow));b=S(b,5,d.action);b=S(b,6,d.id);if(typeof d.dest==="string")S(b,7,d.dest);else if(d.dest instanceof Array){const e=Xc(d.dest);if(!e)continue;Xb(b,8,e)}c.push(b)}})},ed=function(a,b){return $c(a).then(c=>c.getDestinations()).then(c=>{const d=b.g.i=new kc;for(const f in c){var e=c[f];e instanceof
Array&&(e=Xc(e))&&Sb(d,1,gc).set(f,e)}})},fd=function(a,b){const c=b.g.g;var d=Q(b.h,2)?Q(b.h,2)/Math.max(c.view[2],c.view[3])/window.devicePixelRatio/Kc:$b(b.h)||1;const e=Q(b.h,3)||0;d=Wc(c,Kc*d*window.devicePixelRatio,e);d={canvasContext:(b.g.h=new OffscreenCanvas(d.width,d.height)).getContext("2d",{alpha:!1}),viewport:d};b.j=c.render(d);let f=0;b.j.onContinue=g=>{f++;b.i=g;W(a)};return b.j.promise.then(()=>b.i=null).catch(g=>{if(!(g instanceof pdfjsLib.RenderingCancelledException))throw g;})},
ad=function(a){if(!a.g||a.h!=1)if(!Uc(a.m))a.g&&(a.i=a.g),a.g=Tc(a.m),a.h=1;else if(!a.g)if(a.i)a.g=a.i,a.h=2,a.i=null;else{if(Uc(a.j))return;a.g=Tc(a.j);a.h=2}const b=a.g;if(b.m)X(a);else{switch(b.type){case 6:if(!b.g.g){bd(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 1:if(!b.g.g){bd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.text){cd(b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 2:if(!b.g.g){bd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.annotations){dd(b).then(()=>
X(a)).catch(c=>Y(a,c));return}break;case 3:if(!b.g.i){ed(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 4:if(!b.g.g){bd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.h){fd(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}if(b.i){b.i();return}break;case 5:if(!b.g.g){bd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.h){fd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(b.i){b.i();return}if(!b.g.text){cd(b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.annotations){dd(b).then(()=>X(a)).catch(c=>
Y(a,c));return}}console.error("Unknown task type/state:",a.g);Y(a,"Unknown task type/state");W(a)}},gd=function(a,b){const c=!(a.g||a.i||!Uc(a.m)||!Uc(a.j)),d=ac(b,3)===1?a.m:a.j,{promise:e,resolve:f,reject:g}=Lc();b=new Yc(ac(b,2),Q(b,4),Wb(b,Jc,5)||new Jc,f,g);d.h.push(b);c&&W(a);return new Zc(e,b)};class hd{constructor(a){this.C=a;this.m=new Sc;this.j=new Sc;this.i=this.h=this.g=null;this.o=0}}
var id=async function(a,b){if(!a.i&&b&&typeof b==="string"){a.i=b;try{const {K:c,A:d}=await a.C(a.i);a.o(c);c.onPassword=(f,g)=>{a.m=f;Z(5,g)};c.onProgress=f=>{Z(2,f)};Z(1,d);const e=await c.promise;Z(3,e.numPages)}catch(c){Z(4)}}},jd=function(a,b){if(b&&typeof b==="string"){b=Rc(b);var c=Q(b,1),d=gd(a.P,b);a.j.set(c,d);d.promise.then(e=>{if(!d.g){a.j.delete(c);var {R:f,S:g}=e.transfer();Z(6,{id:c,result:f},g)}})}},kd=async function(a,b){typeof b==="number"&&(a=await a.getMetadata(),Z(7,{id:b,metadata:dc(a)}))},
ld=async function(a,b){typeof b==="number"&&(a=await (await (await a.g).promise).getData(),Z(8,{id:b,buffer:a.buffer},[a.buffer]))},md=async function(a,b){if(typeof b==="string"&&(a=await (await (await a.g).promise).getData(),window.origin==="null")){var c=URL.createObjectURL(new Blob([a.buffer],{type:"application/pdf"})),d=document.createElement(fc.g);d.href=c;d.download=b;document.body.appendChild(d);d.click();setTimeout(()=>{d.remove();URL.revokeObjectURL(c)},250)}},nd=async function(a,b){if(typeof b===
"object"){var c=b.id;if(typeof c==="number"&&(b=b.destId,typeof b==="string"))if(a=await (await a.g).promise,b=await a.getDestination(b)){var d=Xc(b);if(d){if(typeof b[0]==="object"){let e;try{e=await a.getPageIndex(b[0])}catch(f){Z(9,{id:c});return}M(d,1);M(d,2,E(e))}Z(9,{id:c,destination:dc(d)})}else Z(9,{id:c})}else Z(9,{id:c})}},pd=async function(a,b){typeof b==="number"&&Z(10,{id:b,hasVisibleForm:await od(a)})},Z=function(a,b,c){window.parent.postMessage({type:a,val:b},"*",c)},qd=function(a){if(window.origin!==
"null"&&window.origin!==window.parent.origin)throw Error("PDF loader cannot run within a cross-origin iframe unless it is in a sandboxed origin");window.addEventListener("message",b=>{if(b.source===window.parent&&b.data&&typeof b.data==="object"&&"type"in b.data){var c=b.data.val;switch(b.data.type){case 4:id(a,c);break;case 5:a.m&&typeof c==="string"&&a.m(c);break;case 0:jd(a,c);break;case 1:typeof c==="number"&&(b=a.j.get(c))&&(b.cancel(),a.j.delete(c));break;case 2:kd(a,c);break;case 3:ld(a,c);
break;case 6:md(a,c);break;case 7:nd(a,c);break;case 8:pd(a,c)}}});Z(0)},od=async function(a){var b=await (await a.g).promise;if(Zb(await a.getMetadata(),16))return!0;a=await b.getFieldObjects();if(!a)return!1;for(const c in a)if((b=a[c])&&b.find(d=>{const e=d.rect;d=d.type;if(!e||!Array.isArray(e)||e.length!==4||!e.every(n=>typeof n==="number"&&n>0)||d==="button")return!1;const [f,g,k,h]=e;return f!==k&&g!==h}))return!0;return!1},rd=class{constructor(a){this.C=a;this.i="";this.o=null;this.g=new Promise(b=>
{this.o=b});this.m=null;this.P=new hd(this.g);this.j=new Map;this.h=null}async getMetadata(){if(this.h)return this.h;var a=Nc(this.i),b=tc(a),c=null;try{c=await (await this.g).promise}catch(h){return b}const d=c.numPages;let e;var f;let g;try{const h=c.getMetadata(),n=[];for(let l=1;l<=Math.min(d,20);++l)n.push(c.getPage(l).then(p=>{p=p.getViewport({scale:1});return{width:p.width,height:p.height}}).catch(()=>({width:0,height:0})));[{info:e,contentDispositionFilename:f,contentLength:k},...g]=await Promise.all([h,
...n])}catch(h){return b}if(!(aa(e)&&g instanceof Array))return b;a=(f=Mc(f))||a;var k=Number.isInteger(k)?Math.max(k,0)/1024/1024:0;b=Vc(e.CreationDate);c=Vc(e.ModDate);f=!!e.IsLinearized;this.h=Ic(Hc(Gc(Ec(Dc(Cc(Bc(Ac(zc(yc(xc(wc(vc(uc(tc(a),`${k.toFixed(2)} MB`),V(e.Title)),V(e.Author)),V(e.Subject)),V(e.Keywords)),V(b)),V(c)),V(e.Creator)),V(e.Producer)),V(e.PDFFormatVersion)),d),f),!!e.IsAcroFormPresent),!!e.IsXFAPresent);for(const {width:h,height:n}of g)Fc(this.h,rc(qc(h),n));return this.h}};async function sd(a){var b=a.getReader(),c=0;for(a=[];;){const {done:d,value:e}=await b.read();if(d||!e)break;c+=e.length;a.push(e)}b=new Uint8Array(new ArrayBuffer(c));c=0;for(const d of a)b.set(d,c),c+=d.length;return b}
function td(){return new Promise((a,b)=>{window.addEventListener("message",c=>{if(c.source===window.parent&&c.origin.startsWith("chrome-extension://")&&c.data&&typeof c.data==="object"&&c.data.type==="pdf"){var d=c.data.body;d instanceof ReadableStream&&!c.data.error?sd(d).then(e=>{a(new pdfjsLib.PDFDataRangeTransport(e.length,e,!0,""))}):b(Error("Failed to fetch the PDF headers."))}});window.parent.postMessage({type:"fetch"},"*")})}
var wd=async function(a){return new Promise((b,c)=>{window.addEventListener("message",async d=>{if(d.data&&typeof d.data==="object"){var e=d.data.body;if(d.source===window.parent.parent&&d.origin===(new URL(a)).origin&&d.data.type==="pdf")if(e instanceof ReadableStream&&!d.data.error){var f=Number(d.data.length)||0,g=d.data.encoding;d=d.data.filename;d=typeof d==="string"?d:"";if(f<=0||g!=="")f=await sd(e),b(new ud(a,f.length,f,d));else{e=e.getReader();var {done:k,value:h}=await e.read();f=new ud(a,
Math.max(f,h.length),h,d,!0);k||vd(f,e);b(f)}}else c(Error("Failed to fetch the PDF headers."))}});window.parent.parent.postMessage({type:"fetch",url:a},a)})},vd=async function(a,b){b.read().then(({done:c,value:d})=>{if(c)a.onDataProgressiveDone();else if(d){a.g+=d.length;a.onDataProgressiveRead(d);if(a.g<=a.i)a.onDataProgress(a.g,a.i);else a.onDataProgress(a.g);vd(a,b)}})},xd=async function(a,b,c){c=await sd(c);a.onDataProgress(c.length);a.onDataRange(b,c)};
class ud extends pdfjsLib.PDFDataRangeTransport{constructor(a,b,c,d,e=!1){super(b,c,b===c.length,d);this.h=a;this.g=c.length;this.i=b;this.A=e;window.addEventListener("message",f=>{if(f.data&&typeof f.data==="object"){var g=f.data.body,k=Number(f.data.begin);f.source===window.parent.parent&&f.origin===(new URL(a)).origin&&f.data.type==="pdfrange"&&g instanceof ReadableStream&&k>=0&&xd(this,k,g)}})}requestDataRange(a,b){window.parent.parent.postMessage({type:"fetchrange",url:this.h,begin:a,end:b},
this.h)}}(async()=>{const a=await (await fetch("/pdf.worker.min.js")).blob();pdfjsLib.GlobalWorkerOptions.workerSrc=(0,URL.createObjectURL)(a);qd(new rd(async b=>{let c,d;(new URL(b)).protocol==="file:"?(c=await td(),d=!1):(c=await wd(b),d=c.A);return{K:pdfjsLib.getDocument({url:b,cMapUrl:"/bcmaps/",cMapPacked:!0,range:c}),A:d}}))})();}).call(this);
