(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var q=this||self,t=function(a){var b=typeof a;return b!="object"?b:a?Array.isArray(a)?"array":b:"null"},aa=function(a){var b=typeof a;return b=="object"&&a!=null||b=="function"},ba=function(a,b){function c(){}c.prototype=b.prototype;a.V=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.T=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function u(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}ba(u,Error);u.prototype.name="CustomError";function ca(a,b){a=a.split("%s");let c="";const d=a.length-1;for(let e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");u.call(this,c+a[d])}ba(ca,u);ca.prototype.name="AssertionError";var da=function(a,b){throw new ca("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var ea,fa;a:{for(var ha=["CLOSURE_FLAGS"],ia=q,ja=0;ja<ha.length;ja++)if(ia=ia[ha[ja]],ia==null){fa=null;break a}fa=ia}var ka=fa&&fa[610401301];ea=ka!=null?ka:!1;function la(a,b=new Set){if(b.has(a))return"(Recursive reference)";switch(typeof a){case "object":if(a){var c=Object.getPrototypeOf(a);switch(c){case Map.prototype:case Set.prototype:case Array.prototype:b.add(a);var d=`[${Array.from(a,e=>la(e,b)).join(", ")}]`;b.delete(a);c!==Array.prototype&&(d=`${ma(c.constructor)}(${d})`);return d;case Object.prototype:return b.add(a),c=`{${Object.entries(a).map(([e,f])=>`${e}: ${la(f,b)}`).join(", ")}}`,b.delete(a),c;default:return d="Object",c&&c.constructor&&
(d=ma(c.constructor)),typeof a.toString==="function"&&a.toString!==Object.prototype.toString?`${d}(${String(a)})`:`(object ${d})`}}break;case "function":return`function ${ma(a)}`;case "number":if(!Number.isFinite(a))return String(a);break;case "bigint":return`${a.toString(10)}n`;case "symbol":return a.toString()}return JSON.stringify(a)}
function ma(a){var b=a.displayName;return b&&typeof b==="string"||(b=a.name)&&typeof b==="string"?b:(a=/function\s+([^\(]+)/m.exec(String(a)))?a[1]:"(Anonymous)"};function na(a,b){const c=oa,d=[];pa(b,a,d)||qa(void 0,c,`Guard ${b.H().trim()} failed:`,...d.reverse())}function ra(a,b){a.U=!0;a.H=typeof b==="function"?b:()=>b;return a}function pa(a,b,c){const d=a(b,c);d||sa(c,()=>{let e="";e.length>0&&(e+=": ");return`${e}Expected ${a.H().trim()}, got ${la(b)}`});return d}function sa(a,b){a==null||a.push((typeof b==="function"?b():b).trim())}let oa=void 0;function ta(a){return typeof a==="function"?a():a}
function qa(...a){throw Error(a.map(ta).filter(Boolean).join("\n").trim().replace(/:$/,""));};var ua=ra(a=>typeof a==="string","string"),va=ra(a=>typeof a==="bigint","bigint");var wa=typeof q.BigInt==="function"&&typeof q.BigInt(0)==="bigint";var Ca=ra(a=>{if(wa)return na(xa,va),na(ya,va),a=BigInt(a),a>=xa&&a<=ya;na(a,ua);return a[0]==="-"?za(a,Aa):za(a,Ba)},"isSafeInt52");const Aa=Number.MIN_SAFE_INTEGER.toString(),xa=wa?BigInt(Number.MIN_SAFE_INTEGER):void 0,Ba=Number.MAX_SAFE_INTEGER.toString(),ya=wa?BigInt(Number.MAX_SAFE_INTEGER):void 0;
function za(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(var c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}c=oa;qa("Assertion fail:",`isInRange weird case. Value was: ${a}. Boundary was: ${b}.`||c)};function Da(a){q.setTimeout(()=>{throw a;},0)};var Ea;const Fa=q.navigator;Ea=Fa?Fa.userAgentData||null:null;function Ga(a){return ea?Ea?Ea.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function v(a){var b;a:{if(b=q.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function w(){return ea?!!Ea&&Ea.brands.length>0:!1}function Ha(){return w()?Ga("Chromium"):(v("Chrome")||v("CriOS"))&&!(w()?0:v("Edge"))||v("Silk")};var Ia=function(a){Ia[" "](a);return a};Ia[" "]=function(){};var Ja=w()?!1:v("Trident")||v("MSIE");!v("Android")||Ha();Ha();v("Safari")&&(Ha()||(w()?0:v("Coast"))||(w()?0:v("Opera"))||(w()?0:v("Edge"))||(w()?Ga("Microsoft Edge"):v("Edg/"))||w()&&Ga("Opera"));var Ka={},La=null;var Ma=typeof Uint8Array!=="undefined",Na=!Ja&&typeof btoa==="function";function x(a){return Array.prototype.slice.call(a)};var Oa=typeof Symbol==="function"&&typeof Symbol()==="symbol";function Pa(a,b){return typeof Symbol==="function"&&typeof Symbol()==="symbol"?Symbol(a):b}var y=Pa("INTERNAL_ARRAY_STATE"),Qa=Pa("defaultInstance","0di");var Ra=Oa?(a,b)=>{a[y]|=b}:(a,b)=>{a.o!==void 0?a.o|=b:Object.defineProperties(a,{o:{value:b,configurable:!0,writable:!0,enumerable:!1}})},Sa=Oa?(a,b)=>{a[y]&=~b}:(a,b)=>{a.o!==void 0&&(a.o&=~b)};const Ta=Object.getOwnPropertyDescriptor(Array.prototype,"M");
Object.defineProperties(Array.prototype,{M:{get(){function a(e,f){e&b&&c.push(f)}const b=A(this),c=[];a(1,"IS_REPEATED_FIELD");a(2,"IS_IMMUTABLE_ARRAY");a(4,"IS_API_FORMATTED");a(4096,"STRING_FORMATTED");a(8192,"GBIGINT_FORMATTED");a(8192,"BINARY");a(8,"ONLY_MUTABLE_VALUES");a(32,"MUTABLE_REFERENCES_ARE_OWNED");a(64,"CONSTRUCTED");a(128,"TRANSFERRED");a(256,"HAS_SPARSE_OBJECT");a(512,"HAS_MESSAGE_ID");a(2048,"FROZEN_ARRAY");a(16384,"DESERIALIZED_FROM_BINARY");var d=b>>15&1023||536870912;d!==536870912&&
c.push(`pivot: ${d}`);d=c.join(",");return Ta?Ta.get.call(this)+"|"+d:d},configurable:!0,enumerable:!1}});var A=Oa?a=>a[y]|0:a=>a.o|0,B=Oa?a=>a[y]:a=>a.o,D=Oa?(a,b)=>{a[y]=b}:(a,b)=>{a.o!==void 0?a.o=b:Object.defineProperties(a,{o:{value:b,configurable:!0,writable:!0,enumerable:!1}})};function Ua(a){Ra(a,34);return a}function Va(a){Ra(a,32);return a}function Wa(a,b){D(b,(a|0)&-30975)}function Xa(a,b){D(b,(a|34)&-30941)};var Ya={},Za={};function $a(a){return!(!a||typeof a!=="object"||a.O!==Za)}function ab(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function bb(a){return!Array.isArray(a)||a.length?!1:A(a)&1?!0:!1}var cb;const db=[];D(db,55);cb=Object.freeze(db);function eb(a){if(a&2)throw Error("Cannot mutate an immutable Message");}function hb(){}
class ib{constructor(a,b,c){this.i=0;this.g=a;this.h=b;this.j=c}next(){if(this.i<this.g.length){const a=this.g[this.i++];return{done:!1,value:this.h?this.h.call(this.j,a):a}}return{done:!0,value:void 0}}[Symbol.iterator](){return new ib(this.g,this.h,this.j)}}function jb(a){const b=A(a);(b&8||b&16&&b&32)&&a.forEach(()=>{});kb(a)}
function kb(a){if(4096&A(a))for(let b=0;b<a.length;b++)typeof a[b]!=="string"&&da(`Unexpected element of type ${typeof a[b]} in string formatted repeated 64-bit int field`)}var lb=Object.freeze({}),mb=Object.freeze({});var nb=function(a,b){a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity=b};function ob(a){a=Error(a);nb(a,"incident");Da(a)}function pb(a){a=Error(a);nb(a,"warning");return a};var xb=function(a){qb===void 0&&(qb=typeof Proxy==="function"?rb(Proxy):null);if(!qb||!sb())return a;let b=tb(a);if(b)return b;const c=Error().stack;ub(a);b=new qb(a,{set(d,e,f){vb(c);d[e]=f;return!0}});wb(a,b);return b};function vb(a){ob(`${"Warning: Forbidden array mutation. This will be a hard error in the future, please fix. See go/jspb-api-gotchas#readonly-repeated-fields."}\nArray origin at ${a}\nMutation at ${Error().stack}\n...`)}let yb=void 0,zb=void 0;
var tb=function(a){let b;return(b=yb)==null?void 0:b.get(a)},Ab=function(a){let b;return((b=zb)==null?void 0:b.get(a))||a};function wb(a,b){(yb||(yb=new E)).set(a,b);(zb||(zb=new E)).set(b,a)}let qb=void 0,E=void 0;function sb(){E===void 0&&(E=typeof WeakMap==="function"?rb(WeakMap):null);return E}function rb(a){try{return a.toString().indexOf("[native code]")!==-1?a:null}catch(b){return null}}let Bb=void 0;
function ub(a){if(Bb===void 0){const b=new qb([],{});Bb=Array.prototype.concat.call([],b).length===1}Bb&&typeof Symbol==="function"&&Symbol.isConcatSpreadable&&(a[Symbol.isConcatSpreadable]=!0)}
var Ib=function(a,b,c){if(sb()&&(!Cb(a,b)||!c)){c=a.length;var d={length:c};for(let f=0;f<Math.min(c,10);f++){if(c<=10)var e=f;else{e=c/10;const g=Math.floor(f*e);e=g+Math.floor(Math.random()*(Math.floor((f+1)*e)-g))}d[e]=a[e]}Db(a,d)?(Eb(Fb||(Fb=new E),b,a,d),Eb(Gb||(Gb=new E),b,a,Error().stack)):(ob(),Hb(a,b))}},Kb=function(a,b){const c=Cb(a,b);c&&!Db(a,c)&&(Jb(a,b),Hb(a,b))};
function Db(a,b){if(a.length!==b.length)return!1;for(const e in b){var c=Number(e),d;if(d=Number.isInteger(c))d=a[c],c=b[c],d=!(Number.isNaN(d)?Number.isNaN(c):d===c);if(d)return!1}return!0}var Lb=function(a){var b;if(a&&(b=Fb)!=null&&b.has(a)&&(b=a.l))for(let c=0;c<b.length;c++){const d=b[c];if(c===b.length-1&&ab(d))for(const e in d){const f=d[e];Array.isArray(f)&&Kb(f,a)}else Array.isArray(d)&&Kb(d,a)}};
function Jb(a,b){let c,d;var e=(c=Gb)==null?void 0:(d=c.get(b))==null?void 0:d.get(a);ob(`${"Warning: Array transferred to proto has been mutated. This mutation will be ignored in the future, please fix. See go/jspb-api-gotchas#readonly-repeated-fields."}\nArray transferred at ${e}\nMutation prior to ${Error().stack}\n...`)}let Fb=void 0,Gb=void 0;function Eb(a,b,c,d){let e=a.get(b);e||(e=new E,a.set(b,e));e.set(c,d)}
function Cb(a,b){let c,d;return(c=Fb)==null?void 0:(d=c.get(b))==null?void 0:d.get(a)}var Hb=function(a,b){let c,d;(c=Fb)==null||(d=c.get(b))==null||d.delete(a);let e,f;(e=Gb)==null||(f=e.get(b))==null||f.delete(a)};let Mb;function Nb(a,b){Mb=b;a=new a(b);Mb=void 0;return a};function Ob(a){if(typeof a!=="number")throw Error(`Value of float/double field must be a number, found ${typeof a}: ${a}`);return a}function Pb(a){return a==null?a:Number.isFinite(a)?a|0:void 0}function Qb(a){return`Expected int32 as finite number but got ${t(a)}: ${a}`}function Rb(a){if(a==null)return a;if(typeof a==="string"){if(!a)return;a=+a}if(typeof a==="number")return Number.isFinite(a)?a|0:void 0}
function Sb(a,b,c,d){if(a!=null&&typeof a==="object"&&a.C===Ya)return a;if(!Array.isArray(a))return c?d&2?(a=b[Qa])?b=a:(a=new b,Ua(a.l),b=b[Qa]=a):b=new b:b=void 0,b;let e=c=A(a);e===0&&(e|=d&32);e|=d&2;e!==c&&D(a,e);return new b(a)}function Tb(a,b,c){if(b){if(typeof a!=="string")throw Error(`Expected a string but got ${a} a ${t(a)}`);return a}let d;return(d=a==null||typeof a==="string"?a:void 0)!=null?d:c?"":void 0};const Ub={};let Vb=function(){try{return Ia(new class extends Map{constructor(){super()}}),!1}catch(a){return!0}}();
class Wb{constructor(){this.g=new Map}get(a){return this.g.get(a)}set(a,b){this.g.set(a,b);this.size=this.g.size;return this}delete(a){a=this.g.delete(a);this.size=this.g.size;return a}clear(){this.g.clear();this.size=this.g.size}has(a){return this.g.has(a)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(a,b){return this.g.forEach(a,b)}[Symbol.iterator](){return this.entries()}}
const Xb=(()=>Vb?(Object.setPrototypeOf(Wb.prototype,Map.prototype),Object.defineProperties(Wb.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),Wb):class extends Map{constructor(){super()}})();function Yb(a){return a}
var Zb=function(a){if(a.u&2)throw Error("Cannot mutate an immutable Map");},F=class extends Xb{constructor(a,b,c=Yb,d=Yb){super();let e=A(a);e|=64;D(a,e);this.u=e;this.A=b;this.v=c;this.G=this.A?$b:d;for(let f=0;f<a.length;f++){const g=a[f],k=c(g[0],!1,!0);let l=g[1];b?l===void 0&&(l=null):l=d(g[1],!1,!0,void 0,void 0,e);super.set(k,l)}}J(a=ac){if(this.size!==0)return this.F(a)}F(a=ac){const b=[],c=super.entries();for(var d;!(d=c.next()).done;)d=d.value,d[0]=a(d[0]),d[1]=a(d[1]),b.push(d);return b}clear(){Zb(this);
super.clear()}delete(a){Zb(this);return super.delete(this.v(a,!0,!1))}entries(){var a=this.I();return new ib(a,bc,this)}keys(){return this.N()}values(){var a=this.I();return new ib(a,F.prototype.get,this)}forEach(a,b){super.forEach((c,d)=>{a.call(b,this.get(d),d,this)})}set(a,b){Zb(this);a=this.v(a,!0,!1);return a==null?this:b==null?(super.delete(a),this):super.set(a,this.G(b,!0,!0,this.A,!1,this.u))}has(a){return super.has(this.v(a,!1,!1))}get(a){a=this.v(a,!1,!1);const b=super.get(a);if(b!==void 0){var c=
this.A;return c?(c=this.G(b,!1,!0,c,this.K,this.u),c!==b&&super.set(a,c),c):b}}I(){return Array.from(super.keys())}N(){return super.keys()}[Symbol.iterator](){return this.entries()}};F.prototype.toJSON=void 0;F.prototype.O=Za;function $b(a,b,c,d,e,f){a=Sb(a,d,c,f);e&&(a=cc(a));return a}function ac(a){return a}function bc(a){return[a,this.get(a)]}let dc;function ec(){return dc||(dc=new F(Ua([]),void 0,void 0,void 0,Ub))};function fc(a,b){return gc(b)}
function gc(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "bigint":return Ca(a)?Number(a):String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(bb(a))return}else{if(Ma&&a!=null&&a instanceof Uint8Array){if(Na){for(var b="",c=0,d=a.length-10240;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);a=btoa(b)}else{b===void 0&&(b=0);if(!La){La={};c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=
["+/=","+/","-_=","-_.","-_"];for(var e=0;e<5;e++){var f=c.concat(d[e].split(""));Ka[e]=f;for(var g=0;g<f.length;g++){var k=f[g];La[k]===void 0&&(La[k]=g)}}}b=Ka[b];c=Array(Math.floor(a.length/3));d=b[64]||"";for(e=f=0;f<a.length-2;f+=3){var l=a[f],h=a[f+1];k=a[f+2];g=b[l>>2];l=b[(l&3)<<4|h>>4];h=b[(h&15)<<2|k>>6];k=b[k&63];c[e++]=g+l+h+k}g=0;k=d;switch(a.length-f){case 2:g=a[f+1],k=b[(g&15)<<2]||d;case 1:a=a[f],c[e]=b[a>>2]+b[(a&3)<<4|g>>4]+k+d}a=c.join("")}return a}if(a instanceof F)return a.J()}}return a}
;function hc(a,b,c){a=x(a);var d=a.length;const e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(const f in e)b[f]=c(e[f])}return a}function ic(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=bb(a)?void 0:e&&A(a)&2?a:jc(a,b,c,d!==void 0,e);else if(ab(a)){const f={};for(let g in a)f[g]=ic(a[g],b,c,d,e);a=f}else a=b(a,d);return a}}
function jc(a,b,c,d,e){const f=d||c?A(a):0;d=d?!!(f&32):void 0;a=x(a);for(let g=0;g<a.length;g++)a[g]=ic(a[g],b,c,d,e);c&&c(f,a);return a}function lc(a){return ic(a,mc,void 0,void 0,!1)}function mc(a){return a.C===Ya?a.toJSON():a instanceof F?a.J(lc):gc(a)};function nc(a,b,c=Xa){if(a!=null){if(Ma&&a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=A(a);if(d&2)return a;jb(a);b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(D(a,(d|34)&-12293),a):jc(a,nc,d&4?Xa:c,!0,!0)}a.C===Ya?(c=a.l,d=B(c),a=d&2?a:oc(a,c,d,!0)):a instanceof F&&!(a.u&2)&&(c=Ua(a.F(nc)),a=new F(c,a.A,a.v,a.G));return a}}function oc(a,b,c,d){Lb(a);return Nb(a.constructor,pc(b,c,d))}
function pc(a,b,c){const d=c||b&2?Xa:Wa,e=!!(b&32);a=hc(a,b,f=>nc(f,e,d));Ra(a,32|(c?2:0));return a}function cc(a){const b=a.l,c=B(b);return c&2?oc(a,b,c,!1):a};var qc=function(a,b){a=a.l;return G(a,B(a),b)};function rc(a,b,c,d){b=d+(+!!(b&512)-1);if(!(b<0||b>=a.length||b>=c))return a[b]}
var G=function(a,b,c,d){if(c===-1)return null;const e=b>>15&1023||536870912;if(c>=e){if(b&256)return a[a.length-1][c]}else{var f=a.length;if(d&&b&256&&(d=a[f-1][c],d!=null)){if(rc(a,b,e,c))throw Error(`b/316921031: message had field number ${c} in both the sparse object and the array portion.`);return d}return rc(a,b,e,c)}},J=function(a,b,c){const d=a.l;let e=B(d);eb(e);I(d,e,b,c);return a};
function I(a,b,c,d){const e=b>>15&1023||536870912;if(c>=e){let f,g=b;if(b&256)f=a[a.length-1];else{if(d==null)return g;f=a[e+(+!!(b&512)-1)]={};g|=256}f[c]=d;c<e&&(a[c+(+!!(b&512)-1)]=void 0);g!==b&&D(a,g);return g}a[c+(+!!(b&512)-1)]=d;b&256&&(a=a[a.length-1],c in a&&delete a[c]);return b}var sc=function(a){a=a.l;let b=B(a);const c=G(a,b,1);var d=c==null||typeof c==="number"?c:c==="NaN"||c==="Infinity"||c==="-Infinity"?Number(c):void 0;d!=null&&d!==c&&I(a,b,1,d);return d};
function tc(a){return!!(2&a)&&!!(4&a)||!!(2048&a)}function uc(a,b,c,d,e){var f=b&2;let g=!1;if(c==null){if(f)return ec();c=[]}else if(c.constructor===F){if((c.u&2)==0||f)return c;c=c.F()}else Array.isArray(c)?g=!!(A(c)&2):c=[];if(f){if(!c.length)return ec();g||(g=!0,Ua(c))}else if(g){g=!1;f=x(c);for(c=0;c<f.length;c++){const k=f[c]=x(f[c]);Array.isArray(k[1])&&(k[1]=Ua(k[1]))}c=f}g||(A(c)&64?Sa(c,32):32&b&&Va(c));e=new F(c,e,Tb,void 0);I(a,b,d,e);return e}
function vc(a,b,c){a=a.l;const d=B(a);return uc(a,d,G(a,d,b),b,c)}function wc(a){var b=xc,c=a.l;const d=B(c);var e=G(c,d,2);a=d&2;c=uc(c,d,e,2,b);!a&&b&&(c.K=!0);return c}var yc=function(a,b,c){var d=a.l,e=B(d),f=G(d,e,c,!1);b=Sb(f,b,!1,e);b!==f&&b!=null&&I(d,e,c,b);d=b;if(d==null)return d;a=a.l;e=B(a);e&2||(f=cc(d),f!==d&&(d=f,I(a,e,c,d)));return d},zc=function(a,b,c){c==null&&(c=void 0);J(a,b,c)};function K(a,b){a=(2&b?a|2:a&-3)|32;return a&=-2049}function Ac(a,b){32&b||(a&=-33);return a}
function Bc(a,b,c,d){var e=B(a.l);eb(e);var f;const g=a.l;var k=!!(2&e);const l=k?1:2;f&&(f=!k);k=G(g,e,b);k=Array.isArray(k)?k:cb;var h=A(k),n=k;Kb(n,a);l!==2&&l!==1||Hb(n,a);n=!!(4&h);if(!n){var m=h;m===0&&(m=K(m,e));h=k;m|=1;var p=e,r=!!(2&m);r&&(p|=2);let O=!r,C=!0,H=0,fb=0;for(;H<h.length;H++){const gb=Sb(h[H],c,!1,p);if(gb instanceof c){if(!r){const kc=!!(A(gb.l)&2);O&&(O=!kc);C&&(C=kc)}h[fb++]=gb}}fb<H&&(h.length=fb);m|=4;m=C?m|16:m&-17;m=O?m|8:m&-9;D(h,m);r&&Object.freeze(h);h=m}if(f&&!(8&
h||!k.length&&(l===1||l===4&&32&h))){tc(h)?(k=x(k),h=K(h,e),e=I(g,e,b,k)):Hb(k,a);f=k;for(m=0;m<f.length;m++)p=f[m],r=cc(p),p!==r&&(f[m]=r);h|=8;h=f.length?h&-17:h|16;D(f,h)}if(l===1||l===4&&32&h)tc(h)||(a=h,b=!!(32&h),h|=!k.length||16&h&&(!n||b)?2:2048,h!==a&&D(k,h),Object.freeze(k));else if(n=l!==5?!1:!!(32&h)||tc(h)||!!tb(k),(l===2||n)&&tc(h)&&(k=x(k),h=K(h,e),h=Ac(h,e),D(k,h),e=I(g,e,b,k)),tc(h)||(b=h,h=Ac(h,e),h!==b&&D(k,h)),n){var z=xb(k);Ib(k,a,!0)}z=z||k;d=d!=null?d:new c;z.push(d);A(d.l)&
2?Sa(z,8):Sa(z,16)}function L(a,b){return a!=null?a:b}
var Cc=function(a,b){a=qc(a,b);return L(a==null||typeof a==="boolean"?a:typeof a==="number"?!!a:void 0,!1)},M=function(a,b){return L(Rb(qc(a,b)),0)},N=function(a,b,c){if(c!=null&&typeof c!=="boolean")throw Error(`Expected boolean but got ${t(c)}: ${c}`);return J(a,b,c)},P=function(a,b,c){if(c!=null){if(typeof c!=="number")throw pb(Qb(c));if(!Number.isFinite(c))throw pb(Qb(c));c|=0}return J(a,b,c)},Q=function(a,b,c){return J(a,b,c==null?c:Ob(c))},R=function(a,b,c){if(c!=null&&typeof c!=="string")throw Error(`Expected a string or null or undefined but got ${c} a ${t(c)}`);
return J(a,b,c)},Dc=function(a,b,c){{const k=a.l;let l=B(k);eb(l);if(c==null)I(k,l,b);else{c=Ab(c);var d=A(c),e=d,f=!!(2&d)||Object.isFrozen(c),g=!f&&(void 0===mb||void 0!==lb);if(!(4&d)){d=21;f&&(c=x(c),e=0,d=K(d,l),d=Ac(d,l));for(let h=0;h<c.length;h++)c[h]=Ob(c[h])}g?(c=x(c),e=0,d=K(d,l),d=Ac(d,l)):f||Ib(c,a);d!==e&&D(c,d);jb(c);I(k,l,b,c)}}return a};typeof Proxy!=="undefined"&&new Proxy({},{getPrototypeOf:S,setPrototypeOf:S,isExtensible:S,preventExtensions:S,getOwnPropertyDescriptor:S,defineProperty:S,has:S,get:S,set:S,deleteProperty:S,apply:S,construct:S});function S(){throw Error("this array or object is owned by JSPB and should not be reused, did you mean to copy it with copyJspbArray? See go/jspb-api-gotchas#construct_from_array");};let T;
var Fc=function(a){try{return T=!0,JSON.stringify(Ec(a),fc)}finally{T=!1}},U=class{constructor(a){a:{var b=b!=null?b:0;a==null&&(a=Mb);Mb=void 0;if(a!=null)for(var c=0;c<a.length;c++){var d=a[c];Array.isArray(d)&&jb(d)}if(a==null)c=96,a=[];else{if(!Array.isArray(a))throw Error(`data passed to JSPB constructors must be an Array, got '${JSON.stringify(a)}' a ${t(a)}`);c=A(a);if(Object.isFrozen(a)||!Object.isExtensible(a)||Object.isSealed(a))throw Error("data passed to JSPB constructors must be mutable");if(c&
2048)throw Error("farr");if(c&64)break a;b===1||b===2||(c|=64);b=a;if(d=b.length)if(--d,ab(b[d])){c|=256;b=d-(+!!(c&512)-1);if(b>=1024)throw Error(`Found a message with a sparse object at fieldNumber ${b} is >= the limit ${1024}`);c=c&-33521665|(b&1023)<<15}}D(a,c)}this.l=a;this.preventPassingToStructuredClone=hb}toJSON(){return Ec(this)}clone(){const a=this.l;return oc(this,a,B(a),!1)}};U.prototype.C=Ya;U.prototype.toString=function(){try{return T=!0,Ec(this).toString()}finally{T=!1}};
function Ec(a){Lb(a);var b=T?a.l:jc(a.l,mc,void 0,void 0,!1);var c=!T,d=B(c?a.l:b);if(a=b.length){var e=b[a-1],f=ab(e);f?a--:e=void 0;var g=+!!(d&512)-1,k=a-g,l=(d=!(d&512)&&k!==k)?Array.prototype.slice.call(b,0,a):b;if(f||d){b:{var h=l;var n=e;var m;f=!1;if(d)for(var p=Math.max(0,k+g);p<h.length;p++){var r=h[p];const C=p-g;if(!(r==null||bb(r)||$a(r)&&r.size===0)){var z=h[p]=void 0;((z=m)!=null?z:m={})[C]=r;f=!0}}if(n)for(let C in n)if(z=+C,isNaN(z)){let H;((H=m)!=null?H:m={})[C]=n[C]}else if(p=n[C],
Array.isArray(p)&&(bb(p)||$a(p)&&p.size===0)&&(p=null),p==null&&(f=!0),d&&z<k){f=!0;p=z+g;for(r=h.length;r<=p;r++)h.push(void 0);h[p]=n[z]}else if(p!=null){let H;((H=m)!=null?H:m={})[C]=p}f||(m=n);if(m)for(let C in m){n=m;break b}n=null}h=n==null?e!=null:n!==e}d&&(a=l.length);for(var O;a>0;a--){m=l[a-1];if(!(m==null||bb(m)||$a(m)&&m.size===0))break;O=!0}if(l!==b||h||O){if(!d&&!c)l=Array.prototype.slice.call(l,0,a);else if(O||h||n)l.length=a;n&&l.push(n)}b=l}return b};function Gc(a){if(a instanceof U)return a.constructor.g};(function(){const a=q.jspbGetTypeName;q.jspbGetTypeName=a?b=>a(b)||Gc(b):Gc})();/[?&]tc=([01])/.exec(location.search||"")||(navigator.userAgent||"").indexOf("Android")>=0||window.matchMedia&&window.matchMedia("(pointer)").matches&&window.matchMedia("(pointer:coarse)");var Hc=new class{constructor(a){this.g=a}}("A");var Ic=class extends U{};Ic.g="scholar.reader.PdfDestination";var Jc=class extends U{constructor(){super()}getDestination(){return yc(this,Ic,8)}};Jc.g="scholar.reader.Annotation";var Kc=class extends U{};Kc.g="scholar.reader.FontInfo";var Lc=class extends U{constructor(){super()}};Lc.g="scholar.reader.FontMap";var Mc=class extends U{constructor(){super()}};Mc.g="scholar.reader.NamedDestinationMap";var Nc=class extends U{};Nc.g="scholar.reader.TextContentItem";var xc=class extends U{};xc.g="scholar.reader.TextStyle";var Oc=class extends U{constructor(){super()}};Oc.g="scholar.reader.TextContent";var Pc=class extends U{};Pc.g="scholar.reader.Viewport";var Qc=class extends U{constructor(){super()}getViewport(){return yc(this,Pc,1)}};Qc.g="scholar.reader.LoadResult";var Sc=function(a){var b=new Rc;return P(b,1,a)},Tc=function(a,b){return P(a,2,b)},Rc=class extends U{};Rc.g="scholar.reader.PageSize";var Vc=function(a){var b=new Uc;return R(b,1,a)},Wc=function(a,b){return R(a,2,b)},Xc=function(a,b){return R(a,3,b)},Yc=function(a,b){return R(a,4,b)},Zc=function(a,b){return R(a,5,b)},$c=function(a,b){return R(a,6,b)},ad=function(a,b){return R(a,7,b)},bd=function(a,b){return R(a,8,b)},cd=function(a,b){return R(a,9,b)},dd=function(a,b){return R(a,10,b)},ed=function(a,b){return R(a,11,b)},fd=function(a,b){return P(a,12,b)},gd=function(a,b){Bc(a,13,Rc,b)},hd=function(a,b){return N(a,14,b)},id=function(a,
b){return N(a,15,b)},jd=function(a,b){return N(a,16,b)},Uc=class extends U{constructor(){super()}};Uc.g="scholar.reader.PdfMetadata";var kd=class extends U{};kd.g="scholar.reader.RenderParams";var ld=96/72;function md(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}}function nd(a){return a?a.toLowerCase().endsWith(".pdf")?a:a+".pdf":""}function od(a){a=a.split(/[#?]/)[0].split("/");let b=a=a[a.length-1];try{b=decodeURIComponent(a)}catch(c){}return(a=b)?nd(a):"document.pdf"};var pd=class{constructor(){this.i=this.annotations=this.text=this.h=this.j=this.m=this.viewport=this.g=null}transfer(){const a=[];var b=new Qc;if(this.viewport){var c=this.viewport;var d=new Pc;d=Dc(d,1,c.viewBox);d=Q(d,2,c.rotation);d=Q(d,3,c.offsetX);d=Q(d,4,c.offsetY);d=Q(d,5,c.width);d=Q(d,6,c.height);d=Q(d,7,c.scale);c=Dc(d,8,c.transform);zc(b,1,c)}this.m&&P(b,6,this.m);this.j&&zc(b,2,this.j);this.text&&zc(b,3,this.text);if(this.annotations){{c=this.annotations;const m=b.l;let p=B(m);eb(p);if(c==
null)I(m,p,4);else{c=Ab(c);var e=d=A(c),f=!!(2&d)||!!(2048&d),g=f||Object.isFrozen(c),k=!g&&(void 0===mb||void 0!==lb),l=!0,h=!0;for(let r=0;r<c.length;r++){var n=c[r];f||(n=!!(A(n.l)&2),l&&(l=!n),h&&(h=n))}f||(d|=5,d=l?d|8:d&-9,d=h?d|16:d&-17);k||g&&d!==e?(c=x(c),e=0,d=K(d,p),d=Ac(d,p)):g||Ib(c,b);d!==e&&D(c,d);jb(c);I(m,p,4,c)}}}this.i&&zc(b,5,this.i);b={p:Fc(b)};if(c=this.h&&this.h.transferToImageBitmap())b.c=c,a.push(c);return{R:b,S:a}}},qd=class{constructor(a){this.promise=a;this.g=!1}cancel(){this.g=
!0}};var rd=class extends U{},sd=function(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("Expected to deserialize an Array but got "+t(b)+": "+b);b=Nb(a,Va(b))}return b}}(rd);rd.g="scholar.reader.LoadRequest";var td=function(){this.g=[];this.h=[]},ud=function(a){a.g.length===0&&(a.g=a.h,a.g.reverse(),a.h=[]);return a.g.pop()},vd=function(a){return a.g.length===0&&a.h.length===0};td.prototype.clear=function(){this.g=[];this.h=[]};function V(a){return typeof a==="string"?a:""}function wd(a){return(a=pdfjsLib.PDFDateString.toDateObject(a))?`${a.toLocaleDateString()}, ${a.toLocaleTimeString()}`:""}function xd(a,b,c){const d=a.getViewport({scale:b}).rotation;return a.getViewport({scale:b,rotation:(c+d)%360})}
function yd(a){var b=new Ic,c=a[0];if(!c)return null;if(typeof c==="object"){c=c.num;if(typeof c!=="number")return null;P(b,1,c)}else if(typeof c==="number"&&Number.isInteger(c)&&c>=0)P(b,2,c);else return null;if(!a[1]||typeof a[1]!=="object")return null;c=a[1].name;if(typeof c!=="string")return null;R(b,3,c);let d,e;switch(c){case "XYZ":[,,d,a,c]=a;if(d!==null&&typeof d!=="number"||a!==null&&typeof a!=="number"||c!==null&&typeof c!=="number")return null;d!==null&&Q(b,4,d);a!==null&&Q(b,5,a);c!==
null&&Q(b,8,c);return b;case "FitV":case "FitBV":return d=a[2],d===null?b:typeof d==="number"?Q(b,4,d):null;case "FitH":case "FitBH":return a=a[2],a===null?b:typeof a==="number"?Q(b,5,a):null;case "FitR":return[,,d,e,c,a]=a,typeof d!=="number"||typeof e!=="number"||typeof c!=="number"||typeof a!=="number"?b=null:(b=Q(b,4,d),b=Q(b,7,e),b=Q(b,6,c),b=Q(b,5,a)),b;default:return b}}
class zd{constructor(a,b,c,d,e){this.type=a;this.s=b;this.h=c;this.m=!1;this.i=this.j=null;this.resolve=d;this.reject=e;this.g=new pd}cancel(){this.m=!0;this.j&&this.j.cancel()}}class Ad extends qd{constructor(a,b){super(a);this.h=b}cancel(){this.g=!0;this.h.cancel()}}
var Bd=function(a){return a.D.then(b=>b.promise)},W=function(a){a.s||(a.s=setTimeout(()=>{a.s=0;Cd(a)}))},X=function(a){a.g.resolve(a.g.g);a.g=null;a.h=null;W(a)},Y=function(a,b){a.g.reject(b);a.g=null;a.h=null;W(a)},Dd=function(a,b){return Bd(a).then(c=>c.getPage(b.s)).then(c=>{b.g.g=c;b.g.viewport=xd(c,ld*(L(sc(b.h),0)||1),M(b.h,3)||0);b.g.m=b.g.g.ref.num})},Ed=function(a){const b=a.g.g.getTextContent().then(c=>{const d=a.g.text=new Oc;for(var e of c.items){var f=new Nc;f=R(f,1,e.str);f=Dc(f,2,
e.transform);f=Q(f,3,e.width);f=Q(f,4,e.height);f=R(f,5,e.dir);f=R(f,6,e.fontName);f=N(f,7,e.hasEOL);Bc(d,1,Nc,f)}for(const g in c.styles)e=c.styles[g],f=new xc,f=Q(f,1,e.ascent),f=Q(f,2,e.descent),f=N(f,3,e.vertical),f=R(f,4,e.fontFamily),e=g,vc(d,2,xc).set(e,f)});return Cc(a.h,4)?b.then(()=>a.g.g.getOperatorList({intent:"getFonts"})).then(()=>{a.g.j=new Lc;const c=a.g.g.commonObjs;for(const f of wc(a.g.text).keys())if(c.has(f)){var d=c.get(f);var e=new Kc;e=R(e,1,d.name);e=N(e,2,d.isBolded);d=f;
vc(a.g.j,1,Kc).set(d,e)}}):b},Fd=function(a){return a.g.g.getAnnotations().then(b=>{const c=a.g.annotations=[];if(b)for(const d of b){b=new Jc;b=R(b,1,d.subtype);b=Dc(b,2,d.rect);b=R(b,3,d.url);b=N(b,4,d.newWindow);b=R(b,5,d.action);b=R(b,6,d.id);if(typeof d.dest==="string")R(b,7,d.dest);else if(d.dest instanceof Array){const e=yd(d.dest);if(!e)continue;zc(b,8,e)}c.push(b)}})},Gd=function(a,b){return Bd(a).then(c=>c.getDestinations()).then(c=>{const d=b.g.i=new Mc;for(const f in c){var e=c[f];e instanceof
Array&&(e=yd(e))&&vc(d,1,Ic).set(f,e)}})},Hd=function(a,b){const c=b.g.g;var d=M(b.h,2)?M(b.h,2)/Math.max(c.view[2],c.view[3])/window.devicePixelRatio/ld:L(sc(b.h),0)||1;const e=M(b.h,3)||0;d=xd(c,ld*d*window.devicePixelRatio,e);d={canvasContext:(b.g.h=new OffscreenCanvas(d.width,d.height)).getContext("2d",{alpha:!1}),viewport:d};b.j=c.render(d);let f=0;b.j.onContinue=g=>{f++;b.i=g;W(a)};return b.j.promise.then(()=>b.i=null).catch(g=>{if(!(g instanceof pdfjsLib.RenderingCancelledException))throw g;
})},Cd=function(a){if(!a.g||a.h!=1)if(!vd(a.m))a.g&&(a.i=a.g),a.g=ud(a.m),a.h=1;else if(!a.g)if(a.i)a.g=a.i,a.h=2,a.i=null;else{if(vd(a.j))return;a.g=ud(a.j);a.h=2}const b=a.g;if(b.m)X(a);else{switch(b.type){case 6:if(!b.g.g){Dd(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 1:if(!b.g.g){Dd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.text){Ed(b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 2:if(!b.g.g){Dd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.annotations){Fd(b).then(()=>
X(a)).catch(c=>Y(a,c));return}break;case 3:if(!b.g.i){Gd(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}break;case 4:if(!b.g.g){Dd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.h){Hd(a,b).then(()=>X(a)).catch(c=>Y(a,c));return}if(b.i){b.i();return}break;case 5:if(!b.g.g){Dd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.h){Hd(a,b).then(()=>W(a)).catch(c=>Y(a,c));return}if(b.i){b.i();return}if(!b.g.text){Ed(b).then(()=>W(a)).catch(c=>Y(a,c));return}if(!b.g.annotations){Fd(b).then(()=>X(a)).catch(c=>
Y(a,c));return}}console.error("Unknown task type/state:",a.g);Y(a,"Unknown task type/state");W(a)}},Id=function(a,b){const c=!(a.g||a.i||!vd(a.m)||!vd(a.j)),d=L(Pb(qc(b,3)),0)===1?a.m:a.j,{promise:e,resolve:f,reject:g}=md();b=new zd(L(Pb(qc(b,2)),0),M(b,4),yc(b,kd,5)||new kd,f,g);d.h.push(b);c&&W(a);return new Ad(e,b)};class Jd{constructor(a){this.D=a;this.m=new td;this.j=new td;this.i=this.h=this.g=null;this.s=0}}
var Kd=async function(a,b){if(!a.i&&b&&typeof b==="string"){a.i=b;try{const {L:c,B:d}=await a.D(a.i);a.s(c);c.onPassword=(f,g)=>{a.m=f;Z(5,g)};c.onProgress=f=>{Z(2,f)};Z(1,d);const e=await c.promise;Z(3,e.numPages)}catch(c){Z(4)}}},Ld=function(a,b){if(b&&typeof b==="string"){b=sd(b);var c=M(b,1),d=Id(a.P,b);a.j.set(c,d);d.promise.then(e=>{if(!d.g){a.j.delete(c);var {R:f,S:g}=e.transfer();Z(6,{id:c,result:f},g)}})}},Md=async function(a,b){typeof b==="number"&&(a=await a.getMetadata(),Z(7,{id:b,metadata:Fc(a)}))},
Nd=async function(a,b){typeof b==="number"&&(a=await (await (await a.g).promise).getData(),Z(8,{id:b,buffer:a.buffer},[a.buffer]))},Od=async function(a,b){if(typeof b==="string"&&(a=await (await (await a.g).promise).getData(),window.origin==="null")){var c=URL.createObjectURL(new Blob([a.buffer],{type:"application/pdf"})),d=document.createElement(Hc.g);d.href=c;d.download=b;document.body.appendChild(d);d.click();setTimeout(()=>{d.remove();URL.revokeObjectURL(c)},250)}},Pd=async function(a,b){if(typeof b===
"object"){var c=b.id;if(typeof c==="number"&&(b=b.destId,typeof b==="string"))if(a=await (await a.g).promise,b=await a.getDestination(b)){var d=yd(b);if(d){if(typeof b[0]==="object"){let e;try{e=await a.getPageIndex(b[0])}catch(f){Z(9,{id:c});return}J(d,1);P(d,2,e)}Z(9,{id:c,destination:Fc(d)})}else Z(9,{id:c})}else Z(9,{id:c})}},Rd=async function(a,b){typeof b==="number"&&Z(10,{id:b,hasVisibleForm:await Qd(a)})},Z=function(a,b,c){window.parent.postMessage({type:a,val:b},"*",c)},Sd=function(a){if(window.origin!==
"null"&&window.origin!==window.parent.origin)throw Error("PDF loader cannot run within a cross-origin iframe unless it is in a sandboxed origin");window.addEventListener("message",b=>{if(b.source===window.parent&&b.data&&typeof b.data==="object"&&"type"in b.data){var c=b.data.val;switch(b.data.type){case 4:Kd(a,c);break;case 5:a.m&&typeof c==="string"&&a.m(c);break;case 0:Ld(a,c);break;case 1:typeof c==="number"&&(b=a.j.get(c))&&(b.cancel(),a.j.delete(c));break;case 2:Md(a,c);break;case 3:Nd(a,c);
break;case 6:Od(a,c);break;case 7:Pd(a,c);break;case 8:Rd(a,c)}}});Z(0)},Qd=async function(a){var b=await (await a.g).promise;if(Cc(await a.getMetadata(),16))return!0;a=await b.getFieldObjects();if(!a)return!1;for(const c in a)if((b=a[c])&&b.find(d=>{const e=d.rect;d=d.type;if(!e||!Array.isArray(e)||e.length!==4||!e.every(h=>typeof h==="number"&&h>0)||d==="button")return!1;const [f,g,k,l]=e;return f!==k&&g!==l}))return!0;return!1},Td=class{constructor(a){this.D=a;this.i="";this.s=null;this.g=new Promise(b=>
{this.s=b});this.m=null;this.P=new Jd(this.g);this.j=new Map;this.h=null}async getMetadata(){if(this.h)return this.h;var a=od(this.i),b=Vc(a),c=null;try{c=await (await this.g).promise}catch(l){return b}const d=c.numPages;let e;var f;let g;try{const l=c.getMetadata(),h=[];for(let n=1;n<=Math.min(d,20);++n)h.push(c.getPage(n).then(m=>{m=m.getViewport({scale:1});return{width:m.width,height:m.height}}).catch(()=>({width:0,height:0})));[{info:e,contentDispositionFilename:f,contentLength:k},...g]=await Promise.all([l,
...h])}catch(l){return b}if(!(aa(e)&&g instanceof Array))return b;a=(f=nd(f))||a;var k=Number.isInteger(k)?Math.max(k,0)/1024/1024:0;b=wd(e.CreationDate);c=wd(e.ModDate);f=!!e.IsLinearized;this.h=jd(id(hd(fd(ed(dd(cd(bd(ad($c(Zc(Yc(Xc(Wc(Vc(a),`${k.toFixed(2)} MB`),V(e.Title)),V(e.Author)),V(e.Subject)),V(e.Keywords)),V(b)),V(c)),V(e.Creator)),V(e.Producer)),V(e.PDFFormatVersion)),d),f),!!e.IsAcroFormPresent),!!e.IsXFAPresent);for(const {width:l,height:h}of g)gd(this.h,Tc(Sc(l),h));return this.h}};async function Ud(a){var b=a.getReader(),c=0;for(a=[];;){const {done:d,value:e}=await b.read();if(d||!e)break;c+=e.length;a.push(e)}b=new Uint8Array(new ArrayBuffer(c));c=0;for(const d of a)b.set(d,c),c+=d.length;return b}
function Vd(){return new Promise((a,b)=>{window.addEventListener("message",c=>{if(c.source===window.parent&&c.origin.startsWith("chrome-extension://")&&c.data&&typeof c.data==="object"&&c.data.type==="pdf"){var d=c.data.body;d instanceof ReadableStream&&!c.data.error?Ud(d).then(e=>{a(new pdfjsLib.PDFDataRangeTransport(e.length,e,!0,""))}):b(Error("Failed to fetch the PDF headers."))}});window.parent.postMessage({type:"fetch"},"*")})}
var Yd=async function(a){return new Promise((b,c)=>{window.addEventListener("message",async d=>{if(d.data&&typeof d.data==="object"){var e=d.data.body;if(d.source===window.parent.parent&&d.origin===(new URL(a)).origin&&d.data.type==="pdf")if(e instanceof ReadableStream&&!d.data.error){var f=Number(d.data.length)||0,g=d.data.encoding;d=d.data.filename;d=typeof d==="string"?d:"";if(f<=0||g!=="")f=await Ud(e),b(new Wd(a,f.length,f,d));else{e=e.getReader();var {done:k,value:l}=await e.read();f=new Wd(a,
Math.max(f,l.length),l,d,!0);k||Xd(f,e);b(f)}}else c(Error("Failed to fetch the PDF headers."))}});window.parent.parent.postMessage({type:"fetch",url:a},a)})},Xd=async function(a,b){b.read().then(({done:c,value:d})=>{if(c)a.onDataProgressiveDone();else if(d){a.g+=d.length;a.onDataProgressiveRead(d);if(a.g<=a.i)a.onDataProgress(a.g,a.i);else a.onDataProgress(a.g);Xd(a,b)}})},Zd=async function(a,b,c){c=await Ud(c);a.onDataProgress(c.length);a.onDataRange(b,c)};
class Wd extends pdfjsLib.PDFDataRangeTransport{constructor(a,b,c,d,e=!1){super(b,c,b===c.length,d);this.h=a;this.g=c.length;this.i=b;this.B=e;window.addEventListener("message",f=>{if(f.data&&typeof f.data==="object"){var g=f.data.body,k=Number(f.data.begin);f.source===window.parent.parent&&f.origin===(new URL(a)).origin&&f.data.type==="pdfrange"&&g instanceof ReadableStream&&k>=0&&Zd(this,k,g)}})}requestDataRange(a,b){window.parent.parent.postMessage({type:"fetchrange",url:this.h,begin:a,end:b},
this.h)}}(async()=>{const a=await (await fetch("/pdf.worker.min.js")).blob();pdfjsLib.GlobalWorkerOptions.workerSrc=(0,URL.createObjectURL)(a);Sd(new Td(async b=>{let c,d;(new URL(b)).protocol==="file:"?(c=await Vd(),d=!1):(c=await Yd(b),d=c.B);return{L:pdfjsLib.getDocument({url:b,cMapUrl:"/bcmaps/",cMapPacked:!0,range:c}),B:d}}))})();}).call(this);
